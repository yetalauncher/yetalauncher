import { SlSimpleInstance } from "../structs.slint";
import { App, Palette, Settings } from "../globals.slint";

export component InstanceTile inherits VerticalLayout {
    padding: 4px;
    in-out property <SlSimpleInstance> instance;

    container := Rectangle {
        clip: true;
        border-radius: 6px;
        background: Palette.bg-secondary;
        height: icon.height + 54px;
    
        icon := Rectangle {
            x: 6px; y: 6px;
            width: parent.width - 2 * self.x;
            height: self.width;
            border-radius: container.border-radius;
            background: Palette.bg-tertiary;
            clip: true;

            Image {
                width: parent.width;
                height: parent.height;
                source: instance.icon-path;
            }
        }

        Text {
            x: 4px; y: icon.height + 8px;
            width: parent.width - 2 * self.x;
            font-size: 20px;
            overflow: elide;
            text: instance.name;
        }

        Text {
            x: 4px; y: icon.height + 32px;
            width: parent.width - 2 * self.x;
            font-size: 14px;
            text: instance.mc-version + ", " + instance.modloader;
        }
    }
}